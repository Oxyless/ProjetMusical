(window.webpackJsonp=window.webpackJsonp||[]).push([[7,4,5],{473:function(t,e,n){var content=n(476);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(17).default)("14436bf0",content,!0,{sourceMap:!1})},474:function(t,e,n){var content=n(479);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(17).default)("2c9fa580",content,!0,{sourceMap:!1})},475:function(t,e,n){"use strict";n(473)},476:function(t,e,n){var o=n(16)(!1);o.push([t.i,".sheet{position:relative}.loop,.pause,.play,.stop{position:absolute;top:-2px}.play{right:0}.pause{right:25px}.stop{right:50px}.loop{right:75px}.abc-tune{background-color:grey}.abc-sheet{background-color:#fff}@media print{.abc-sheet{width:21cm}}",""]),t.exports=o},477:function(t,e,n){"use strict";n.r(e);var o=n(29),r=(n(92),n(21),n(47),{props:["abcTune","abcOptions"],data:function(){var t="".concat(Math.random()).replace(".","");return{tuneId:"tune_".concat(t),audioId:"audio_".concat(t),abcObj:null,synthControl:null,isPlaying:!1,loop:!1}},mounted:function(){this.abcObj=this.$abcjs.renderAbc(this.tuneId,this.abcTune,this.abcOptions),this.initWidget()},methods:{play:function(){this.synthControl&&!this.isPlaying&&(this.synthControl.play(),this.isPlaying=!0)},pause:function(){this.synthControl&&this.isPlaying&&(this.synthControl.pause(),this.synthControl.play(),this.synthControl.pause(),this.isPlaying=!1)},stop:function(){this.synthControl&&(this.synthControl.restart(),this.pause(),this.isPlaying=!1)},toggleLoop:function(){this.synthControl&&(this.synthControl.toggleLoop(),this.loop=!this.loop)},initWidget:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,o=function(){this.onFinished=function(){n.isPlaying=!1}},r={chordsOff:!0},!t.$abcjs.synth.supportsAudio()){e.next=9;break}return(c=new t.$abcjs.synth.SynthController).load("#".concat(t.audioId),new o,{displayProgress:!0,displayWarp:!0}),e.next=8,c.setTune(t.abcObj[0],!1,r);case 8:t.synthControl=c;case 9:case"end":return e.stop()}}),e)})))()}}}),c=(n(475),n(74)),l=n(101),h=n.n(l),f=n(302),d=n(208),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sheet"},[n("div",{staticClass:"abc-tune",attrs:{id:t.audioId}}),t._v(" "),n("div",{staticClass:"abc-sheet",attrs:{id:t.tuneId}}),t._v(" "),n("v-btn",{staticClass:"loop",attrs:{icon:"",small:"",ripple:!1},on:{click:t.toggleLoop}},[n("v-icon",{attrs:{color:t.loop?"success":""}},[t._v("mdi-infinity")])],1),t._v(" "),n("v-btn",{staticClass:"stop",attrs:{icon:"",small:"",ripple:!1,disabled:!t.isPlaying},on:{click:t.stop}},[n("v-icon",[t._v("mdi-stop")])],1),t._v(" "),n("v-btn",{staticClass:"pause",attrs:{icon:"",small:"",ripple:!1,disabled:!t.isPlaying},on:{click:t.pause}},[n("v-icon",[t._v("mdi-pause")])],1),t._v(" "),n("v-btn",{staticClass:"play",attrs:{icon:"",small:"",ripple:!1,disabled:t.isPlaying},on:{click:t.play}},[n("v-icon",[t._v("mdi-play")])],1)],1)}),[],!1,null,null,null);e.default=component.exports;h()(component,{VBtn:f.a,VIcon:d.a})},478:function(t,e,n){"use strict";n(474)},479:function(t,e,n){var o=n(16)(!1);o.push([t.i,".free-textarea{max-width:21cm}",""]),t.exports=o},480:function(t,e,n){var content=n(498);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(17).default)("cc83b42e",content,!0,{sourceMap:!1})},495:function(t,e,n){"use strict";n.r(e);var o=n(84),r={name:"Tune",data:function(){return{abcTunes:this.$initTune.apply(this,Object(o.a)(this.tuneProfile)).toAbc(),abcFree:""}},mounted:function(){this.abcFree=this.$route.query.abc?atob(this.$route.query.abc):localStorage.getItem(this.localstorageFreeKey)||""},props:["tuneProfile"],watch:{abcFree:function(t){this.$router.push({query:{abc:btoa(t)}}),localStorage.setItem(this.localstorageFreeKey,t)}},computed:{localstorageFreeKey:function(){return"".concat(this.$route.path,"_tune_free")},print:function(){return this.$store.getters["options/getPrint"]},abcOptions:function(){return this.print?{add_classes:!0}:{responsive:"resize"}},colSize:function(){return this.print?12:6}}},c=(n(478),n(74)),l=n(101),h=n.n(l),f=n(521),d=n(522),y=n(524),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{key:t.print,staticClass:"pa-3"},[n("v-col",{attrs:{cols:t.colSize}},[t._v("\n    "+t._s(t.$route.path)+"\n    "),n("Sheet",{style:t.print?{maxWidth:"21cm"}:{},attrs:{abcTune:t.abcTunes[0],abcOptions:t.abcOptions}})],1),t._v(" "),n("v-col",{attrs:{cols:t.colSize}},[t._l(t.abcTunes.slice(1),(function(e,o){return n("Sheet",{key:e,staticClass:"mb-3",style:t.print?{maxWidth:"21cm"}:{},attrs:{abcTune:e,abcOptions:t.abcOptions}})})),t._v(" "),n("v-textarea",{staticClass:"d-print-none free-textarea",model:{value:t.abcFree,callback:function(e){t.abcFree=e},expression:"abcFree"}}),t._v(" "),t.abcFree.length>0?n("Sheet",{key:t.abcFree,staticClass:"tune",style:t.print?{maxWidth:"21cm"}:{},attrs:{abcTune:t.abcFree}}):t._e()],2)],1)}),[],!1,null,null,null);e.default=component.exports;h()(component,{Sheet:n(477).default}),h()(component,{VCol:f.a,VRow:d.a,VTextarea:y.a})},497:function(t,e,n){"use strict";n(480)},498:function(t,e,n){var o=n(16)(!1);o.push([t.i,"#paper{background-color:#fff;width:21cm}",""]),t.exports=o},525:function(t,e,n){"use strict";n.r(e);var o=n(29),r=(n(92),{name:"tune",data:function(){return{tuneProfile:null}},fetch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$content("tunes").where({uid:t.$route.params.uid}).fetch();case 2:t.tuneProfile=e.sent;case 3:case"end":return e.stop()}}),e)})))()}}),c=(n(497),n(74)),l=n(101),h=n.n(l),f=n(521),d=n(522),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{attrs:{justify:"center"}},[n("v-col",[n("client-only",[t.tuneProfile?n("Tune",{attrs:{tuneProfile:t.tuneProfile}}):t._e()],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;h()(component,{Tune:n(495).default}),h()(component,{VCol:f.a,VRow:d.a})}}]);